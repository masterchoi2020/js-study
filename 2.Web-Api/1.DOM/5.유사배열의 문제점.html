<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .ul > li {
            font-size: 30px;
        }
        .red {
            color: red;
        }
        .blue {
            color: blue;
        }
    </style>

</head>
<body>
    <ul id="fruits">
        <li class="red">Apple</li>
        <li class="red">Banana</li>
        <li class="red">Grape</li>
        <li class="red">Peach</li>
    </ul>
    
    
    <!-- js로 DOM제어 -->
    <script>
        //유사배열의 문제점: 실시간(live)로 갱신되는 문제
        const $elements = document.getElementsByClassName('red');
        

        //반복문이 한번 돌고 첫번째 red를 blue로 바꾸고 나면 첫번째 요소가 업데이트된다.
        //그러면 요소의 번호가 변경이 되어 변경된 요소번호로 다시 for문이 돌아가는 문제
        /*
        for(let i=0; i<$elements.length; i++){
            $elements[i].className = 'blue';  // .className하면 $elements의 i번째 class요소에 접근한다는 의미
        }
        */

        //해결1: 유사배열을 실제 배열로 변환하는 함수 Array.from() 사용
        /*
        const realArray = Array.from($elements);
        for(let i=0; i<realArray.length; i++){
            realArray[i].className = 'blue';
        }
        */

        //해결2: 스프레드 문법으로 처리가능(최신문법)
        const realArray = [...$elements]  
        for(let i=0; i<realArray.length; i++){
            realArray[i].className = 'blue';
        }
        
        /*
        for(let e of realArray){
            e.className = 'blue';
        }
        */

        
        //해결3: 배열의 맨 뒤의 요소부터 바꿔 주어 해결

    </script>

</body>
</html>